version: v1beta9
deployments:
  - name: nginx
    helm:
      chart:
        name: bitnami/nginx-ingress-controller
  - name: mysql
    helm:
      chart:
        name: bitnami/mysql
      values:
        auth:
          database: florian-db
          username: florian
          rootPassword: toto123
          password: toto
        primary:
          service:
            type: ClusterIP
            ClusterIP: 10.3.253.208
  - name: wordpress
    helm:
      chart:
        name: bitnami/wordpress
      values:
        wordpressEmail: wp@test.com
        wordpressUsername: wp
        wordpressPassword: toto
        mariadb:
          enabled: false
        externalDatabase:
          host: 10.3.253.208
          user: florian
          password: toto
          database: florian-db
          port: 3306

dev: {}
profiles:
- name: interactive
  patches:
  - op: add
    path: dev.interactive
    value:
      defaultEnabled: true
  - op: add
    path: images.app.entrypoint
    value:
    - sleep
    - "999999999"
